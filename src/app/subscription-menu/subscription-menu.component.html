<mat-card>
    <mat-card-header>
        <mat-card-title>Reactive Form</mat-card-title>
        <mat-card-subtitle *ngIf="subscribed">Form is submitted</mat-card-subtitle>
    </mat-card-header>
    <mat-card-content>
        <form novalidate  [formGroup]="subForm" (ngSubmit)="onSubscribe()">
            <div formGroupName="fullName">
                <p>Personal Info: </p>
                <label>First Name:
                    <input type="text" placeholder="First Name" formControlName="firstName">
                </label>
                <label>Last Name: 
                    <input type="text" placeholder="Last Name" formControlName="lastName">
                </label>
            </div>
            <div>
                <p>Credentials: </p>
                <label>Username: 
                    <input type="text" placeholder="Username" formControlName="userName">
                </label>
                <label>Password: 
                    <input type="password" placeholder="Your password" formControlName="password">
                </label>
            </div>
            <div formArrayName="emails">
                <label>You must have at least one email!</label>
                <div *ngFor="let control of emailsFormArray.controls; let i = index">
                    <input type="email" [formControlName]="i">
                    <button mat-raised-button color="warn" (click)="removeControl(i)">Delete Email</button>
                </div>
                <button mat-raised-button color="primary" (click)="addControl()">Add Email</button>
            </div>
            <button 
                mat-raised-button 
                color="accent" 
                [disabled]="subForm.invalid" 
                type="submit"
                (click)="onSubscribe()">Subscribe</button>
        </form>
    </mat-card-content>
</mat-card>

